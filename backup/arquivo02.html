<div class="container">
  <form id="formulario" onsubmit="enviarFormulario(event)">
    <!-- üîù Cabe√ßalho -->
    <div class="topo">
      <img src="https://i.postimg.cc/bwxxn1sN/logo.png" alt="Logo" />
      <h2>Learning by Working - Educa√ß√£o pelo Trabalho</h2>
    </div>

    <!-- üîê Chave de acesso -->
    <label for="chave">Chave de Acesso</label>
    <div class="linha-chave">
      <input type="password" id="chave" name="senha" required />
      <button id="validar" type="button" onclick="validarChave()">Validar</button>
    </div>
    <div id="mensagem-chave"></div>

    <!-- üîì Bot√£o sair -->
    <button
      id="sair"
      type="button"
      onclick="deslogar()"
      style="display: none; background-color: #f44336; color: white; padding: 10px 16px; border: none; border-radius: 6px; margin-bottom: 20px;"
    >
      Sair
    </button>

    <!-- üß† Prompt com bot√£o "Perguntar" ao lado -->
    <div style="display: flex; gap: 10px; align-items: end; margin-bottom: 20px;">
      <div style="flex: 1;">
        <label for="prompt">Prompt</label>
        <input type="text" id="prompt" name="prompt" disabled style="width: 100%;" />
      </div>
      <div style="margin-top: 24px;">
        <button id="botao-perguntar" type="button" onclick="perguntarIA()"
          style="background-color: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; height: 38px; cursor: pointer;"
          disabled>
          Perguntar
        </button>
      </div>
    </div>



    <!-- üïΩÔ∏è Dropdowns -->
    <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px;">
      <!-- Ferramenta estat√≠stica -->
      <div style="flex: 1; min-width: 200px;">
        <label for="ferramenta">Ferramenta Estat√≠stica</label>
        <select id="ferramenta" name="ferramenta" disabled>
          <option value="">Selecione</option>
          <option value="analise_descritiva">An√°lise Descritiva</option>
          <option value="capabilidade_normal">Capabilidade Normal</option>
          <option value="capabilidade_nao_normal">Capabilidade N√£o Normal</option>
          <option value="regressao_simples">Regress√£o Linear Simples</option>
          <option value="regressao_multipla">Regress√£o Linear M√∫ltipla</option>
          <option value="regressao_logistica_binaria">Regress√£o Log√≠stica Bin√°ria</option>
          <option value="regressao_logistica_nominal">Regress√£o Log√≠stica Nominal</option>
          <option value="regressao_logistica_ordinal">Regress√£o Log√≠stica Ordinal</option>
          <option value="teste_2sample_t">Teste 2 Sample T</option>
          <option value="teste_paired_t">Teste Paired T</option>
          <option value="teste_variancias">Teste de Vari√¢ncias</option>
          <option value="teste_1sample_t">Teste 1 Sample T</option>
          <option value="intervalo_confianca">Intervalo de Confian√ßa</option>
          <option value="teste_anova">Teste ANOVA</option>
          <option value="teste_normalidade">Teste de Normalidade</option>
          <option value="analise_chi_quadrado">Teste Qui-Quadrado</option>
          <option value="transformacao_johnson">Transforma√ß√£o Johnson</option>
        </select>
      </div>

      <!-- Tipo de gr√°fico -->
      <div style="flex: 1; min-width: 200px;">
        <label for="grafico_tipo">Tipo de Gr√°fico</label>
        <select id="grafico_tipo" name="grafico" disabled>
          <option value="">Selecione</option>
          <option value="boxplot_simples">Boxplot Simples</option>
          <option value="boxplot_multiplo">Boxplot M√∫ltiplo</option>
          <option value="Grafico_barras_simples">Gr√°fico de Barras Simples</option>
          <option value="Grafico_barras_agrupado">Gr√°fico de Barras Agrupado</option>
          <option value="grafico_ic_media">Gr√°fico de Intervalos</option>
          <option value="histograma_simples">Histograma Simples</option>
          <option value="histograma_multiplo">Histograma M√∫ltiplo</option>
          <option value="grafico_bolhas">Gr√°fico de Bolhas</option>
          <option value="grafico_linha">Gr√°fico de Linha</option>
          <option value="grafico_pareto">Gr√°fico de Pareto</option>
          <option value="grafico_pizza">Gr√°fico de Pizza</option>
          <option value="grafico_linha_temporal">Gr√°fico de S√©rie Temporal</option>
          <option value="scatter">Dispers√£o</option>
        </select>
      </div>

      <!-- Coluna Y -->
      <div style="flex: 1; min-width: 200px;">
        <label for="coluna_y">Coluna Y</label>
        <select id="coluna_y" name="coluna_y" disabled>
          <option value="">Selecione</option>
          <option value="A">Coluna A</option>
          <option value="B">Coluna B</option>
          <option value="C">Coluna C</option>
          <option value="D">Coluna D</option>
          <option value="E">Coluna E</option>
          <option value="F">Coluna F</option>
          <option value="G">Coluna G</option>
          <option value="H">Coluna H</option>
          <option value="I">Coluna I</option>
          <option value="J">Coluna J</option>
          <option value="K">Coluna K</option>
          <option value="L">Coluna L</option>
          <option value="M">Coluna M</option>
          <option value="N">Coluna N</option>
          <option value="O">Coluna O</option>
          <option value="P">Coluna P</option>
          <option value="Q">Coluna Q</option>
          <option value="R">Coluna R</option>
          <option value="S">Coluna S</option>
          <option value="T">Coluna T</option>
          <option value="U">Coluna U</option>
          <option value="V">Coluna V</option>
          <option value="W">Coluna W</option>
          <option value="X">Coluna X</option>
          <option value="Y">Coluna Y</option>
          <option value="Z">Coluna Z</option>
        </select>
      </div>

      <!-- Colunas X -->
      <div style="flex: 1; min-width: 200px;">
        <label for="colunas_x">Coluna(s) X</label>
        <select id="colunas_x" name="colunas_x" multiple disabled>
          <option value="A">Coluna A</option>
          <option value="B">Coluna B</option>
          <option value="C">Coluna C</option>
          <option value="D">Coluna D</option>
          <option value="E">Coluna E</option>
          <option value="F">Coluna F</option>
          <option value="G">Coluna G</option>
          <option value="H">Coluna H</option>
          <option value="I">Coluna I</option>
          <option value="J">Coluna J</option>
          <option value="K">Coluna K</option>
          <option value="L">Coluna L</option>
          <option value="M">Coluna M</option>
          <option value="N">Coluna N</option>
          <option value="O">Coluna O</option>
          <option value="P">Coluna P</option>
          <option value="Q">Coluna Q</option>
          <option value="R">Coluna R</option>
          <option value="S">Coluna S</option>
          <option value="T">Coluna T</option>
          <option value="U">Coluna U</option>
          <option value="V">Coluna V</option>
          <option value="W">Coluna W</option>
          <option value="X">Coluna X</option>
          <option value="Y">Coluna Y</option>
          <option value="Z">Coluna Z</option>
        </select>
      </div>
    </div>

    <!-- üìå Upload -->
    <label for="arquivo">Anexar Arquivo (.xlsx do Excel)</label>
    <input type="file" id="arquivo" name="arquivo" accept=".xlsx" disabled onchange="verificarArquivo()" />
    <div id="erro-arquivo"></div>

    <!-- üîò Bot√µes -->
    <div class="botoes">
      <button id="enviar" type="submit" disabled>Enviar</button>
      <button id="remover" type="button" onclick="removerArquivo()" disabled>Remover Arquivo</button>
      <span id="spinner"></span>
    </div>

    <!-- üìä Resultados -->
    <div class="resultado-container" style="display: flex; gap: 40px; margin-top: 40px;">
      <div id="analise" style="flex: 1; display: flex; flex-direction: column;"></div>
      <div id="grafico" style="flex: 1; display: flex; flex-direction: column;"></div>
    </div>
  </form>
</div>
